<!DOCTYPE html>
<html>
  <head>
    <title>My Map</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
  </head>
  <body>
    <div id="map" style="height: 1000px;"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
    <script src='https://unpkg.com/@turf/turf@6/turf.min.js'></script>

    <script>
        // ****** 지도 형성 ****************
        const map = L.map('map').setView([37.49049, 127.0056], 12); // 서초 마제스타시티

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Map data &copy; OpenStreetMap contributors',
            maxZoom: 18,
        }).addTo(map);

        let polygon = L.polygon([], {color: 'red'}).addTo(map);

        map.on('click', function(e) {
            polygon.addLatLng(e.latlng);
            console.log(polygon.toGeoJSON());
        });

        // ****** 서울에 랜덤 100개 폴리곤 ************
        const seoul_bbox = [126.87973, 37.463686, 127.081261, 37.608248];
        const majesta_bbox = [126.99711, 37.482693, 127.013022, 37.498015];


        const randomPolygons = turf.randomPolygon(10000, {bbox: seoul_bbox, max_radial_length: 0.01});

        let geoms = []

        randomPolygons.features.forEach((polygon) => {
            L.GeoJSON.geometryToLayer(polygon).addTo(map);
            geoms.push(polygon.geometry);
        });

        console.log(geoms);

    </script>
  </body>
</html>
